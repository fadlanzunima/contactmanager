{"ast":null,"code":"import _defineProperty from\"/mnt/668065D68065ACED/Learning/contactmanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/mnt/668065D68065ACED/Learning/contactmanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/mnt/668065D68065ACED/Learning/contactmanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/mnt/668065D68065ACED/Learning/contactmanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/mnt/668065D68065ACED/Learning/contactmanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/mnt/668065D68065ACED/Learning/contactmanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/mnt/668065D68065ACED/Learning/contactmanager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Consumer}from\"../../context\";import TextInputGroup from\"../layout/TextInputGroup\";import{v4 as uuidv4}from\"uuid\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddContact=/*#__PURE__*/function(_Component){_inherits(AddContact,_Component);var _super=_createSuper(AddContact);function AddContact(){var _this;_classCallCheck(this,AddContact);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={name:\"\",email:\"\",phone:\"\",errors:{}};_this.onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch,e){var _this$state,name,email,phone,newContact,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_this$state=_this.state,name=_this$state.name,email=_this$state.email,phone=_this$state.phone;if(!(name===\"\")){_context.next=5;break;}_this.setState({errors:{name:\"Name is required\"}});return _context.abrupt(\"return\");case 5:if(!(email===\"\")){_context.next=8;break;}_this.setState({errors:{email:\"Email is required\"}});return _context.abrupt(\"return\");case 8:if(!(phone===\"\")){_context.next=11;break;}_this.setState({errors:{phone:\"Phone is required\"}});return _context.abrupt(\"return\");case 11:newContact={id:uuidv4(),name:name,email:email,phone:phone};//Add data to array in Context\n_context.next=14;return axios.post(\"https://jsonplaceholder.typicode.com/todos\",newContact);case 14:response=_context.sent;dispatch({type:\"ADD_CONTACT\",payload:response.data});//Clear state\n_this.setState({name:\"\",email:\"\",phone:\"\",errors:{}});_this.props.history.push(\"/\");case 18:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();_this.onChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};return _this;}_createClass(AddContact,[{key:\"render\",value:function render(){var _this2=this;var _this$state2=this.state,name=_this$state2.name,email=_this$state2.email,phone=_this$state2.phone,errors=_this$state2.errors;return/*#__PURE__*/_jsx(Consumer,{children:function children(value){var dispatch=value.dispatch;return/*#__PURE__*/_jsxs(\"div\",{className:\"card mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:\"Add Contact\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:_this2.onSubmit.bind(_this2,dispatch),children:[/*#__PURE__*/_jsx(TextInputGroup,{label:\"Name\",name:\"name\",placeholder:\"Enter Name...\",value:name,onChange:_this2.onChange,error:errors.name}),/*#__PURE__*/_jsx(TextInputGroup,{label:\"Email\",name:\"email\",type:\"email\",placeholder:\"Enter Email...\",value:email,onChange:_this2.onChange,error:errors.email}),/*#__PURE__*/_jsx(TextInputGroup,{label:\"Phone\",name:\"phone\",type:\"tel\",placeholder:\"Enter Phone...\",value:phone,onChange:_this2.onChange,error:errors.phone}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Add Contact\",className:\"w-100 btn btn-light btn-lg btn-block\"})]})})]});}});}}]);return AddContact;}(Component);export default AddContact;","map":{"version":3,"sources":["/mnt/668065D68065ACED/Learning/contactmanager/src/components/contacts/AddContact.js"],"names":["React","Component","Consumer","TextInputGroup","v4","uuidv4","axios","AddContact","state","name","email","phone","errors","onSubmit","dispatch","e","preventDefault","setState","newContact","id","post","response","type","payload","data","props","history","push","onChange","target","value","bind"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Consumer } from \"../../context\";\nimport TextInputGroup from \"../layout/TextInputGroup\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport axios from \"axios\";\n\nclass AddContact extends Component {\n  state = {\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    errors: {},\n  };\n\n  // Function when submit form\n  onSubmit = async (dispatch, e) => {\n    e.preventDefault();\n    const { name, email, phone } = this.state;\n\n    if (name === \"\") {\n      this.setState({ errors: { name: \"Name is required\" } });\n      return;\n    }\n    if (email === \"\") {\n      this.setState({ errors: { email: \"Email is required\" } });\n      return;\n    }\n    if (phone === \"\") {\n      this.setState({ errors: { phone: \"Phone is required\" } });\n      return;\n    }\n\n    const newContact = {\n      id: uuidv4(),\n      name,\n      email,\n      phone,\n    };\n\n    //Add data to array in Context\n    const response = await axios.post(\n      `https://jsonplaceholder.typicode.com/todos`,\n      newContact\n    );\n    dispatch({ type: \"ADD_CONTACT\", payload: response.data });\n\n    //Clear state\n    this.setState({\n      name: \"\",\n      email: \"\",\n      phone: \"\",\n      errors: {},\n    });\n\n    this.props.history.push(\"/\");\n  };\n\n  onChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  render() {\n    const { name, email, phone, errors } = this.state;\n\n    return (\n      <Consumer>\n        {(value) => {\n          const { dispatch } = value;\n          return (\n            <div className=\"card mb-3\">\n              <div className=\"card-header\">Add Contact</div>\n              <div className=\"card-body\">\n                <form onSubmit={this.onSubmit.bind(this, dispatch)}>\n                  {/* Component Group Form  */}\n                  <TextInputGroup\n                    label=\"Name\"\n                    name=\"name\"\n                    placeholder=\"Enter Name...\"\n                    value={name}\n                    onChange={this.onChange}\n                    error={errors.name}\n                  />\n\n                  <TextInputGroup\n                    label=\"Email\"\n                    name=\"email\"\n                    type=\"email\"\n                    placeholder=\"Enter Email...\"\n                    value={email}\n                    onChange={this.onChange}\n                    error={errors.email}\n                  />\n\n                  <TextInputGroup\n                    label=\"Phone\"\n                    name=\"phone\"\n                    type=\"tel\"\n                    placeholder=\"Enter Phone...\"\n                    value={phone}\n                    onChange={this.onChange}\n                    error={errors.phone}\n                  />\n                  {/* Component Group Form  */}\n                  <input\n                    type=\"submit\"\n                    value=\"Add Contact\"\n                    className=\"w-100 btn btn-light btn-lg btn-block\"\n                  />\n                </form>\n              </div>\n            </div>\n          );\n        }}\n      </Consumer>\n    );\n  }\n}\n\nexport default AddContact;\n"]},"metadata":{},"sourceType":"module"}